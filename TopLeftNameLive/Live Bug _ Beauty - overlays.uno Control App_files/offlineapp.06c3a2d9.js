(()=>{var o,e={17604:function(o,e){!function(){var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function a(){var o=arguments[0],e=a.cache;return e[o]&&e.hasOwnProperty(o)||(e[o]=a.parse(o)),a.format.call(null,e[o],arguments)}function t(o){return Object.prototype.toString.call(o).slice(8,-1).toLowerCase()}function n(o,e){return Array(e+1).join(o)}a.format=function(e,i){var r,s,p,d,l,c,m,u=1,f=e.length,w="",g=[],h=!0,v="";for(s=0;s<f;s++)if("string"===(w=t(e[s])))g[g.length]=e[s];else if("array"===w){if((d=e[s])[2])for(r=i[u],p=0;p<d[2].length;p++){if(!r.hasOwnProperty(d[2][p]))throw new Error(a("[sprintf] property '%s' does not exist",d[2][p]));r=r[d[2][p]]}else r=d[1]?i[d[1]]:i[u++];if("function"==t(r)&&(r=r()),o.not_string.test(d[8])&&o.not_json.test(d[8])&&"number"!=t(r)&&isNaN(r))throw new TypeError(a("[sprintf] expecting number but found %s",t(r)));switch(o.number.test(d[8])&&(h=r>=0),d[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,d[6]?parseInt(d[6]):0);break;case"e":r=d[7]?r.toExponential(d[7]):r.toExponential();break;case"f":r=d[7]?parseFloat(r).toFixed(d[7]):parseFloat(r);break;case"g":r=d[7]?parseFloat(r).toPrecision(d[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&d[7]?r.substring(0,d[7]):r;break;case"u":r>>>=0;break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}o.json.test(d[8])?g[g.length]=r:(!o.number.test(d[8])||h&&!d[3]?v="":(v=h?"+":"-",r=r.toString().replace(o.sign,"")),c=d[4]?"0"===d[4]?"0":d[4].charAt(1):" ",m=d[6]-(v+r).length,l=d[6]&&m>0?n(c,m):"",g[g.length]=d[5]?v+r+l:"0"===c?v+l+r:l+v+r)}return g.join("")},a.cache={},a.parse=function(e){for(var a=e,t=[],n=[],i=0;a;){if(null!==(t=o.text.exec(a)))n[n.length]=t[0];else if(null!==(t=o.modulo.exec(a)))n[n.length]="%";else{if(null===(t=o.placeholder.exec(a)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var r=[],s=t[2],p=[];if(null===(p=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(r[r.length]=p[1];""!==(s=s.substring(p[0].length));)if(null!==(p=o.key_access.exec(s)))r[r.length]=p[1];else{if(null===(p=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");r[r.length]=p[1]}t[2]=r}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=t}a=a.substring(t[0].length)}return n},e.sprintf=a,e.vsprintf=function(o,e,t){return(t=(e||[]).slice(0)).splice(0,0,o),a.apply(null,t)}}("undefined"==typeof window||window)},38400:(o,e,a)=>{"use strict";var t=a(40961),n=a.n(t),i=a(40927),r=a.n(i),s=a(15734),p=a.n(s),d=a(47500),l=a.n(d),c=a(14794),m=a(16918),u=a.n(m),f=a(3808),w=a(24800),g=a(51163),h=a(88534),v=a.n(h),b=a(79988),y=(a(37482),a(51229),r().createClass({displayName:"OnairLive",getInitialState:function(){return{unmount:!1}},onCompositionReady:function(o){this.props.onCompositionReady&&this.props.onCompositionReady(o)},onStateChanged:function(o,e){this.props.onStateChanged&&this.props.onStateChanged(o,e)},unmount:function(){this.setState({unmount:!0})},resize:function(o,e){this.setState({width:o,height:e}),this.refs.onairRef.resizeRenderWindow()},render:function(){if(this.state.unmount)return!1;var o;o=this.props.mainComposition?this.props.mainComposition:this.props.rtdbRef.key;var e,a,t=window.innerWidth,n=window.innerHeight,i="live",s=void 0,p=void 0;if(window.singularScene.width&&"undefined"!=window.singularScene.width&&(e=parseInt(window.singularScene.width)),window.singularScene.height&&"undefined"!=window.singularScene.height&&(a=parseInt(window.singularScene.height)),window.customSize){i="preview",s=!0;var d=this.props.sbRef.val().uiSettings;t=this.state.width||e||d.editorResolutionWidth,n=this.state.height||a||d.editorResolutionHeight,p=!0}return"responsive"==window.singularScene.aspect&&(s=!1),r().createElement(f.A,{appPreview:this.props.appPreview,windowAdaptationGlobals:this.props.windowAdaptationGlobals,displayVariant:this.props.displayVariant,showWatermark:this.props.showWatermark,onCompositionReady:this.onCompositionReady,onStateChanged:this.onStateChanged,rootRtdbRef:this.props.rtdbRef,rtdbRef:this.props.rtdbRef.child("compositions").child(o),mainComposition:o,rootSbRef:this.props.sbRef,sbRef:this.props.sbRef.child("compositions").child(this.props.sbRef.key),noScaleUp:p,width:t,height:n,rootTimelines:this.props.rootTimelines,mode:i,customSize:s,ref:"onairRef"})}}));const S=y;function _(o){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_(o)}a(10611);var R,C,I,A,P=a(18898),x=a(9769);document.body.style.overflow="hidden";var O,N,E,k,z,L,j=!1,G={},T=[],D=[],U=!0,M=function(o,e){if(o===e)return!0;if(null==o||null==e)return!1;if("object"!==_(o)||"object"!==_(e))return!1;if(o.constructor!==e.constructor)return!1;for(var a in o)if(o.hasOwnProperty(a)){if(!e.hasOwnProperty(a))return!1;if(o[a]!==e[a]){if("object"!==_(o[a]))return!1;if(!M(o[a],e[a]))return!1}}for(a in e)if(e.hasOwnProperty(a)&&!o.hasOwnProperty(a))return!1;return!0},W=window,B=function(){if(W.SingularPreviewSettings.adaptationGlobals&&R){var o=x.extend(!0,W.SingularPreviewSettings.adaptationGlobals);x.compareObject(k,o)||(k=x.extend(!0,k,o),A.adaptationGlobals=x.extend(!0,A.adaptationGlobals,k,o),R.updateAdaptationGlobals(A.adaptationGlobals),window.parent.postMessage({event:"_singular_setAdaptationGlobals",params:A.adaptationGlobals},"*"))}var e=W.SingularPreviewSettings.editorResolutionWidth,a=W.SingularPreviewSettings.editorResolutionHeight;e==z&&a==L||1==singularResizeComp(e,a)&&(z=e,L=a)};!function(){try{for(;W&&!W.SingularPreviewSettings&&W!=window.top;)W=W.parent}catch(o){W=void 0}W&&W.SingularPreviewSettings&&setInterval(B,250)}();var H,K,V,F=function(o){"setPayload"==o.event&&window.parent.postMessage({event:"_singular_composition_payload_changed",params:{compId:o.compId,compositionId:o.compId,payload:o.payload}},"*")};window.compEditorMessage=function(o){},window.singularMessage=c.A.handleSingularMessage,window.singularCompLib=c.A,K="message",V=function(o){var e;try{e=JSON.parse(o.data)}catch(o){return}var a=function(o,e){if(o){var a="Cannot load composition: "+o.message;e&&e.body&&e.body.error&&(a=e.body.error),window.parent.postMessage({event:"_singular_composition_load_fail",params:{error:a}},"*")}else e.body?ro(e.body):(a="Composition content is invalid.",window.parent.postMessage({event:"_singular_composition_load_fail",params:{error:a}},"*"))};if("_singular_loadComposition"==e.event)if(g.A.Start("offlineapp"),isNaN(parseInt(e.params.id))){var t=e.params.id;void 0!==t?(t.startsWith("//")&&(t="https:"+t),p().get(t).end(function(o,e){a(o,e)})):console.error("load composition: url is undefined")}else p().get("/apiv1/compositions/"+e.params.id+"/content").end(function(o,e){a(o,e)});else if("_singular_loadCompositionById"==e.event)g.A.Start("offlineapp"),p().get("/apiv1/compositions/"+e.params.id+"/content").end(function(o,e){a(o,e)});else if("_singular_loadCompositionByUrl"==e.event){g.A.Start("offlineapp");var i=e.params.id;i.startsWith("//")&&(i="https:"+i),p().get(i).end(function(o,e){a(o,e)})}else if("_singular_renderComposition"==e.event){g.A.Start("offlineapp");var s=e.params.compositionObject;if("string"==typeof s)try{s=JSON.parse(s)}catch(o){s=null}if("object"!==_(s)){var d="renderComposition first param is invalid.";window.parent.postMessage({event:"_singular_composition_load_fail",params:{desc:d}},"*"),console.error(d)}else s.mainComposition?ro(s):(d="renderComposition expects mainComposition in the given object.",window.parent.postMessage({event:"_singular_composition_load_fail",params:{desc:d}},"*"),console.error(d))}else if("_singular_renderAppOutput"==e.event){var m;g.A.Start("offlineapp"),j=!0,c.A.setConfig(e.params.config),l().waterfall([function(o){"object"===_(e.params.output)&&e.params.output?o(null,e.params.output):p().get("/apiv1/appinstances/"+e.params.appId+"/outputs").end(function(a,t){if(a)o("cannot read output");else if(t.headers.location)o("invalid credential");else if(t.body&&0!=t.body.length){var n,i,r,s="";if(e.params.output){var p=t.body.filter(function(o){return o.name==e.params.output});p.length>=1&&(n=p[0].compExtract,s=p[0].firebaseUrl,i=p[0].id,r=p[0].ds)}else{var d=[].concat(t.body);d.sort(function(o,e){return(o.name>e.name)-.5}),n=d[0].compExtract,s=d[0].firebaseUrl,i=d[0].id,r=d[0].ds}o(null,{firebaseUrl:s,compExtract:n,outputId:i,ds:r})}else o("output info is null")})},function(o,a){var t;o.ds&&(J=!1),J&&$();var n=o.ds;if(n||e.params.output&&(n=e.params.output.ds),J){var i=o.firebaseUrl.replace(/https:\/\/.*\.firebaseio.com/gm,"");t=q.database().ref(i),a(null,{firebaseUrl:o.firebaseUrl,compExtract:o.compExtract,outputId:o.outputId,appRef:t})}else window.singularAppInstanceDataStoreSBRef?(t=window.singularAppInstanceDataStoreSBRef,a(null,{firebaseUrl:o.firebaseUrl,compExtract:o.compExtract,outputId:o.outputId,appRef:t})):(t=new(u())(null,"".concat(n)),new(v())(t,n).then(function(e){a(null,{firebaseUrl:o.firebaseUrl,compExtract:o.compExtract,outputId:o.outputId,appRef:t})}))},function(o,a){var t=this;if("broadcast"!=o.outputId.toLowerCase()){O&&O.child("compositions").off("value"),O=o.appRef.child("compExtracts").child(o.compExtract);try{E&&E.off("value"),(E=O.parent.parent.child("outputs/"+o.outputId)).on("value",function(o){var e=o.val();e.compExtract&&(!U&&window.parent?window.parent.postMessage({event:"_singular_app_output_changed",params:{output:{composition:e.compExtract,name:e.name}}},"*"):U=!1)})}catch(o){console.log(o)}}else O=o.appRef.child("broadcast/compExtract");var i=document.getElementById("onairLive");!i&&window.customSize&&(i=document.getElementById(window.offlineOnairDomId));var s=function(o,e){c.A.set({onAirRef:e,composition:o.val(),mainComposition:o.key});var a=o.val();I=a,C=a.mainComposition,R=e,(A=x.getCompositionInfo(I,C)).adaptationGlobals=x.extend(!0,R._adaptationGlobals),g.A.Complete("offlineapp"),window.parent.postMessage({event:"_singular_composition_ready",params:A},"*")};n().unmountComponentAtNode(i),N&&N.unmount(),io(),O.once("value",function(a){var d=a.val();if(window.record&&window.record("load",d,a.ref.toString()),d){var l=d.compositionUrl;l.startsWith("//")&&(l="https:"+l),p().get(l,function(a,p){if(a)console.error("cannot load external data for output");else{var l=d.mainComposition,f=O,w=new(u())(null,l);w.set(p.body,!1,!1),w.child("compositionStates").set(d.compositionStates,!1,!1),x.applyPayload(w,d);var g=new(u())(null,l);if(c.A.init(f,g,"live",!1,"offlineapp",w),c.A.timestamps.updatePayload=Q,g.set(p.body,!1,!1),g.update(d,!1,!1),e.params.config&&!e.params.noTrack||!e.params.config)try{var h=o.firebaseUrl.match("/accounts/([0-9]+)")[1],v=o.firebaseUrl.split("/").slice(-1)[0];window.singularAppInstanceId=v,singularanalytics.event(analyticEventType.GRAPHICS_SDK_APP_OUTPUT_OPENED,h,window.page?window.page:"UI",window.location.hostname,{element_id:v,metadata:singularanalytics.getUIMetadata(analyticEventType.GRAPHICS_SDK_APP_OUTPUT_OPENED,{renderAppOutput:!0,plan:"UNKNOWN",brand:"singular"})})}catch(a){console.error(a)}N=n().render(r().createElement(S,{appPreview:window.appPreview,windowAdaptationGlobals:window.singularAdaptationGlobals,displayVariant:window.singularDisplayVariant,showWatermark:window.rwms,rtdbRef:w,rootRtdbRef:w,sbRef:g,onCompositionReady:s.bind(t,g),mainComposition:l,onStateChanged:eo,rootTimelines:c.A.rootTimelines}),i),m=d.compositions,O.child("compositions").on("value",function(o){var a=o.val();window.record&&window.record("controlnode",a,o.ref.toString());try{if(a[C]&&a[C].dataSources&&a[C].dataSources.composition&&a[C].dataSources.composition.controlNode){var t=a[C].dataSources.composition.controlNode.payloadTs;t&&"number"==typeof t&&null!==X&&t-X<0&&console.log("timestamp mismatch detected",X,t),X=t}}catch(o){console.log(o)}var n,i,r=function(o){n={};var t,r=a[o];if(r.dataSources&&r.dataSources.composition&&r.dataSources.composition.controlNode&&r.dataSources.composition.controlNode.payload){var s=r.dataSources.composition.controlNode.payload;t=r.dataSources.composition.controlNode.payloadTs,M(s,m[o].dataSources.composition.controlNode.payload)||(n=s)}if(Object.keys(n).length>0)if(t&&e.params.config&&"1"==e.params.config.syncGraphics&&c.A.timestamps.controlNodes.push({ts:t,tempRtdbRef:w,cId:o,changes:n}),e.params.config&&"1"==e.params.config.syncGraphics)t&&c.A.timestamps.syncTimeline&&((i=(t-c.A.timestamps.firstVideoSegment)/1e3)>=0?Object.keys(n).length>0?(console.log("add node",i,t),c.A.timestamps.syncTimeline.addCallback(Q,i,[w,o,n])):console.log("no change node",i,t):console.log("skip node",i,t));else if(e.params.config&&"2"==e.params.config.syncGraphics){var p=t-Date.now();if(console.log("execute in ",p),p>0){var d=x.extend(!0,n);setTimeout(function(e){Q(w,o,d)},p)}else Q(w,o,n)}else Q(w,o,n)};for(var s in a)r(s);m=a}),io(),no(w,d.compositions)}})}})}],function(o,e){window.parent.postMessage({event:"_singular_composition_load_fail",params:{desc:o}},"*")})}else if("_singular_jumpTo"==e.event){var f=C;e.params.compId&&(f=e.params.compId),I.compositionStates[f]=e.params.to,c.A.controlLib.jump2(f,f,e.params.to,{runLogicLayer:!0})}else if("_singular_playTo"==e.event){f=C,e.params.compId&&(f=e.params.compId);var h=I.compositionStates[f];c.A.controlLib.jump2(f,f,h,{runLogicLayer:!0}),c.A.controlLib.play2(f,f,e.params.to,{runLogicLayer:!0}),e.params.compId?I.compositionStates[f]=e.params.to:e.params.to}else if("_singular_seek"==e.event)f=C,e.params.compId&&(f=e.params.compId),c.A.controlLib.seek(f,f,e.params.to);else if("_singular_setControlNode"==e.event)R.setControlNodeOffline(C,e.params.obj,void 0,"GRAPHICS_SDK");else if("_singular_resize"==e.event)R.onResize(e.params.width,e.params.height);else if("_singular_destroy"==e.event){var b=document.getElementById("onairLive");b&&n().unmountComponentAtNode(b),N&&N.unmount()}else if("_singular_control"==e.event){var y,k=e.params.obj;if(k)if("string"==typeof k)try{y=JSON.parse(k)}catch(o){console.log("Error: control() cannot parse input to json object"),y=null}else y=k;y&&Array.isArray(y)&&y.forEach(function(o){o.animation&&o.animation.action&&o.compositionId&&("jump"==o.animation.action&&o.animation.to?c.A.controlLib.jump2(o.compositionId,o.compositionId,o.animation.to,{runLogicLayer:!0}):"play"==o.animation.action&&o.animation.from&&o.animation.to&&(c.A.controlLib.jump2(o.compositionId,o.compositionId,o.animation.from,{runLogicLayer:!0}),c.A.controlLib.play2(o.compositionId,o.compositionId,o.animation.to,{runLogicLayer:!0}))),o.controlNode&&o.controlNode.payload&&o.compositionId&&R.setControlNodeOffline(o.compositionId,o.controlNode.payload,void 0,"GRAPHICS_SDK")})}else if("_singular_sequencer_command"==e.event){var z=e.params.seqId,L=e.params.cmd,T=e.params.params,D=(e.params.compId,G[z]);D||(D=P.createSequencer(c.A.controlLib,R,A,F),G[z]=D),"start"==L?D.start():"stop"==L?D.stop():"seek"==L?D.seek(T.time):"play"==L?D.play():"setDuration"==L?D.setDuration(T.duration):"setPayload"==L&&D.setPayload(T.payload,function(o){window.parent.postMessage({event:"_singular_error",params:{desc:o}},"*")})}else if("_singular_comp_command"==e.event)if("jumpTo"==e.params.command)c.A.controlLib.jump2(e.params.compId,e.params.compId,e.params.to,{runLogicLayer:!0}),Z(e.params.compId,e.params.to);else if("playTo"==e.params.command)c.A.controlLib.play2(e.params.compId,e.params.compId,e.params.to,{runLogicLayer:!0}),Z(e.params.compId,e.params.to);else if("seek"==e.params.command)c.A.controlLib.seek(e.params.compId,e.params.compId,e.params.to);else if("setPayload"==e.params.command){R.setControlNodeOffline(e.params.compId,e.params.payload,void 0,"GRAPHICS_SDK");try{window.parent.postMessage({event:"_singular_composition_payload_sdk",params:{compId:e.params.compId,compositionId:e.params.compId,payload:e.params.payload}},"*")}catch(o){}}else"message"==e.params.command&&w.A.handle_onSingularMessage({params:{compId:e.params.compId,type:"overlay",message:e.params.message}});else"_singular_videoCommand"==e.event?c.A.videoCommand(e.params.command,e.params.time):"_singular_setAdaptationGlobals"==e.event?(A.adaptationGlobals=x.extend(!0,A.adaptationGlobals,e.params.data),R.updateAdaptationGlobals(A.adaptationGlobals)):"_singular_setFrameNumber"==e.event?R.setFrameNumber(e.params.frame):"_singular_setScript"==e.event&&w.A.setScripts(e.params.script)},(H=window).addEventListener?H.addEventListener(K,V,!1):H.attachEvent("on"+K,V);var J=!0,q=null,X=null,$=function(){q||(""!=window.fbDB&&(window.fbDB.toLowerCase().indexOf("https://")<0&&(window.fbDB="https://"+window.fbDB),window.singularCoreDb.databaseURL=window.fbDB,console.log("offlineapp connects to",window.singularCoreDb.databaseURL)),q=window.singularRtdbCoreApp?window.singularRtdbCoreApp:b.A.initializeApp(window.singularCoreDb))},Q=function(o,e,a){0==c.A.timestamps.config.graphicsDelay?Y(o,e,a):setTimeout(function(){Y(o,e,a)},c.A.timestamps.config.graphicsDelay)},Y=function(o,e,a){for(var t in o.beginBatch(!1),a)o.child("compositions").child(e).child("dataSources").child("composition").child("controlNode").child("payload").child(t).set(a[t],!1);o.endBatch(!1)};function Z(o,e){var a=I.compositionStates[o],t=!0,n=I.compositionProps;n&&n.timeline2Active&&!1===n.timeline2Active[o]&&(t=!1);var i=x.getAnimationState(a,e,t).to;i&&(I.compositionStates[o]=i,A.compositionStates[o]=i)}function oo(o){R=o,window.singularOnAirRef=o,(A=x.getCompositionInfo(I,C)).adaptationGlobals=x.extend(!0,R._adaptationGlobals),g.A.Complete("offlineapp"),window.parent.postMessage({event:"_singular_composition_ready",params:A},"*")}function eo(o,e){window.parent.postMessage({event:"_singular_composition_state_changed",params:{compositionId:o,state:e}},"*")}c.A.controlLib.onStateChanged_callbacks.push(eo);var ao=parseInt(window.singularWatchdog);isNaN(ao)||setInterval(function(){window.parent.postMessage({event:"_singular_watchdog"},"*")},ao),window.parent.postMessage({event:"_singular_ready"},"*");var to={};function no(o,e){var a=this;for(var t in e){var n=e[t];if(n.dataSources&&n.dataSources.composition&&n.dataSources.composition.dataNodes){var i=function(){var e,t=n.dataSources.composition.dataNodes[r],i=function(){e.on("value",function(e){var a=e.val();if(a){window.record&&window.record("datanode",a,e.ref.toString()),o.child("users").child(t.userId).child("dataNodes").child(t.dataNode).update(a),a.payload||(a.payload={});var n=!1;null==to[a.id]||M(to[t.dataNode].payload,a.payload)||(n=!0),window.parent.postMessage({event:"_singular_composition_datanode_changed",params:{dataNode:a},dispatch:n},"*"),to[a.id]=a}}.bind(a))};if(null===t.datastore||void 0===t.datastore){$();var s=q.database().ref();e=s.child("users").child(t.userId).child("dataNodes").child(t.dataNode),T.push(e),i()}else e=new(u()),new(v())(e,t.datastore).then(function(o){D.push({ref:e,datastore:o}),i()})};for(var r in n.dataSources.composition.dataNodes)i()}}}function io(){if(T.length){for(var o in T)T[o].off();T=[]}if(D.length){for(var e in D)D[e].datastore.disconnect();D=[]}to={}}function ro(o){try{null!=o.accountId&&(window.singularAppInstanceId=0,singularanalytics.event(analyticEventType.GRAPHICS_SDK_COMP_OPENED,o.accountId,window.page?window.page:"UI",window.location.hostname,{element_id:o.id,metadata:singularanalytics.getUIMetadata(analyticEventType.GRAPHICS_SDK_COMP_OPENED,{renderComposition:!0,plan:"UNKNOWN",brand:"singular"})}))}catch(o){console.error(o)}I=o,C=o.mainComposition,o.compositionStates&&C&&o.compositionStates[C];var e=document.getElementById("onairLive");if(!e&&window.customSize&&(e=document.getElementById(window.offlineOnairDomId)),io(),e){var a=new(u())(null,o.mainComposition);a.set(o,!1,!1);var t=new(u())(null,o.mainComposition);c.A.init(a,t,"live"),t.set(o,!1,!1),n().unmountComponentAtNode(e),N&&N.unmount();var i=window.innerWidth,s=window.innerHeight,p="live",d=void 0;if(window.customSize){p="preview",d=!0;var l=a.val().uiSettings;i=l.editorResolutionWidth,s=l.editorResolutionHeight}"responsive"==window.singularScene.aspect&&(d=!1),n().render(r().createElement(f.A,{appPreview:window.appPreview,windowAdaptationGlobals:window.singularAdaptationGlobals,displayVariant:window.singularDisplayVariant,showWatermark:window.rwms,onCompositionReady:oo,rtdbRef:a.child("compositions").child(a.key),rootRtdbRef:a,sbRef:t.child("compositions").child(t.key),rootSbRef:t,width:i,height:s,mode:p,customSize:d,onStateChanged:eo,rootTimelines:c.A.rootTimelines}),e),window.singularResizeCompParams={},window.singularResizeCompParams.tempRtdbRef=a,window.singularResizeCompParams.sbRef=t,window.singularResizeCompParams.mode=p,window.singularResizeCompParams.customSize=d,window.singularResizeCompParams.domOnairLive=e,no(a,o.compositions)}}window.singularResizeComp=function(o,e){if(j){if(!N)return!1;N.resize(o,e)}else window.singularResizeCompParams&&window.singularResizeCompParams.tempRtdbRef&&window.singularResizeCompParams.sbRef&&window.singularResizeCompParams.mode&&window.singularResizeCompParams.customSize&&window.singularResizeCompParams.domOnairLive&&n().render(r().createElement(f.A,{appPreview:window.appPreview,windowAdaptationGlobals:window.singularAdaptationGlobals,displayVariant:window.singularDisplayVariant,showWatermark:window.rwms,onCompositionReady:oo,rtdbRef:window.singularResizeCompParams.tempRtdbRef.child("compositions").child(window.singularResizeCompParams.tempRtdbRef.key),rootRtdbRef:window.singularResizeCompParams.tempRtdbRef,sbRef:window.singularResizeCompParams.sbRef.child("compositions").child(window.singularResizeCompParams.sbRef.key),rootSbRef:window.singularResizeCompParams.sbRef,width:o,height:e,mode:window.singularResizeCompParams.mode,customSize:window.singularResizeCompParams.customSize,onStateChanged:eo,rootTimelines:c.A.rootTimelines}),window.singularResizeCompParams.domOnairLive);return R&&R.resizeRenderWindow(),!0}},40927:(o,e,a)=>{"use strict";o.exports=a(63475)},40961:(o,e,a)=>{"use strict";o.exports=a(75832)}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var i=a[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,t.c=a,t.amdO={},o=[],t.O=(e,a,n,i)=>{if(!a){var r=1/0;for(l=0;l<o.length;l++){for(var[a,n,i]=o[l],s=!0,p=0;p<a.length;p++)(!1&i||r>=i)&&Object.keys(t.O).every(o=>t.O[o](a[p]))?a.splice(p--,1):(s=!1,i<r&&(r=i));if(s){o.splice(l--,1);var d=n();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=o.length;l>0&&o[l-1][2]>i;l--)o[l]=o[l-1];o[l]=[a,n,i]},t.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return t.d(e,{a:e}),e},t.d=(o,e)=>{for(var a in e)t.o(e,a)&&!t.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:e[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"==typeof window)return window}}(),t.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),t.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.nmd=o=>(o.paths=[],o.children||(o.children=[]),o),(()=>{var o={905:0};t.O.j=e=>0===o[e];var e=(e,a)=>{var n,i,[r,s,p]=a,d=0;if(r.some(e=>0!==o[e])){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(p)var l=p(t)}for(e&&e(a);d<r.length;d++)i=r[d],t.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return t.O(l)},a=self.webpackChunkSingular=self.webpackChunkSingular||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var n=t.O(void 0,[967,822,34,956,727,77,274,490,515,878,27],()=>t(t.s=38400));n=t.O(n)})();